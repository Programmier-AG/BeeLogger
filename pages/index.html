<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>BeeLogger</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link rel="stylesheet" href="/css/app.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script src="/js/app.js"></script>
    <script>
        !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src='https://weatherwidget.io/js/widget.min.js';fjs.parentNode.insertBefore(js,fjs);}}(document,'script','weatherwidget-io-js');
    </script>
</head>

<body id="main">
    <header>
        <nav>
            <div class="nav-wrapper blue accent-3">
                <a href="#!" class="brand-logo">BeeLogger</a>
                <ul class="right">
                    <li><a href="/theme" title="Theme ändern"><i class="material-icons">highlight</i></a>
                    </li>
                    <li><a href="/" title="Aktualisieren"><i class="material-icons">refresh</i></a></li>
                </ul>
            </div>
        </nav>
    </header>
    <main>
        <div id="loading-wrapper">
            <div class="card blue-grey darken-1" id="loading" style="margin-top: 40px;">
                <div class="card-content white-text">
                    <span class="card-title">Daten werden geladen...</span>
                    <div class="progress">
                        <div class="indeterminate"></div>
                    </div>
                    <p>Die Daten werden aus unserer Datenbank abgerufen. Dies kann einen Moment dauern.</p>
                </div>
            </div>
        </div>

        <a class="weatherwidget-io" href="https://forecast7.com/de/53d247d47/leer/" data-label_1="LEER" data-label_2="WETTER" data-theme="original" >LEER WETTER</a>
        
        <div class="row hide" id="dataDisplay">

            <div id="chartContainer" style="margin-top: 10px;" class="col s12 m12 l9">
                <div id="chart"></div>
            </div>

            <div id="dataPicker" class="col s12 m12 l3 center">
                <h4>Aktuell</h4>
                <p style="display: inline; font-size: 20px;"><i class="material-icons" style="vertical-align: bottom; font-size: 150%;">update</i> Temperatur</p>
                <p style="margin: 10px 0 10px 0 !important; padding: 0 !important;" id="temperature">fetching...</p>
                <p style="display: inline; font-size: 20px;"><i class="material-icons" style="vertical-align: bottom; font-size: 150%;">swap_calls</i> Gewicht</p>
                <p style="margin: 10px 0 10px 0 !important; padding: 0 !important;" id="weight">fetching...</p>
                <p style="display: inline; font-size: 20px;"><i class="material-icons" style="vertical-align: bottom; font-size: 150%;">local_drink</i> Luftfeuchtigkeit</p>
                <p style="margin: 10px 0 10px 0 !important; padding: 0 !important;" id="humidity">fetching...</p>

                <div class="input-field col s12">
                    <select id="dropSelect">
                        <option value="1">Heute</option>
                        <option value="2">Eine Woche</option>
                        <option value="3">Ein Monat</option>
                        <option value="4">Ein Jahr</option>
                        <option value="5">Gesamt</option>
                    </select>
                    <label>Zeitraum</label>
                </div>

                <div class="container center">
                    <button onclick="drawCompareChart()" class="waves-effect waves-light btn"
                    style="margin-left: 10px; margin-bottom: 3%;">Ansicht ändern</button>
                </div>

                <div class="container center">
                    <a onclick="getStatistics();" href="#aboutModal" style="margin-right: 10px;" class="modal-trigger">About</a>
                    <a href="#contactModal" class="modal-trigger">Kontakt</a>
                </div>

                <div id="aboutModal" class="modal">
                    <div class="modal-content">
                        <h4>About BeeLogger</h4>
                        <p>BeeLogger ist ein Projekt der Programmier-AG des Teletta-Groß-Gymnasiums.</p>

                        <h5>Daten</h5>
                        <p>BeeLogger misst und sammelt die Daten der Imker-AG. Diese werden auf dieser Seite zur
                            Verfügung gestellt.</p>
                        <p>Es werden alle 60 Minuten neue Daten gemessen, welche dann innerhalb von Sekunden auf dieser
                            Seite zur Verfügung stehen.</p>

                        <h5>Stats</h5>
                        <p>Gesammelte Datensätze: <b id="inserted-count">fetching...</b></p>
                        <p>Daten-Abfragen: <b id="requested-count">fetching...</b></p>
                        <p>Website-Aufrufe: <b id="website-count">fetching...</b></p>
                        <p>Statistik-Abfragen: <b id="stats-count">fetching...</b></p>
                        <p>Derzeit arbeiten wir noch an einer gesonderten Statistik-Seite, auf der alle Statistiken, die wir erfassen, genau einsehbar sind.</p>
                        <!-- <a href="#">Mehr</a> -->

                        <h5>Credits</h5>
                        <p><b>Daten-API:</b> Fabian Reinders</p>
                        <p><b>Website&Design:</b> Fabian Reinders</p>
                        <p><b>Flask-Webserver: </b>Sönke Klock</p>
                        <p><b>Messstationen-Software:</b> Sönke Klock</p>
                        <p><b>Statistiken:</b> Fabian Reinders</p>
                    </div>
                    <div class="modal-footer">
                        <a href="#!" class="modal-close waves-effect waves-green btn-flat">Schließen</a>
                    </div>
                </div>

                <div id="contactModal" class="modal">
                    <div class="modal-content">
                        <h4>Kontakt</h4>
                        <p>Mit folgendem Formular kannst du uns kontaktieren:</p>

                    <form action="/post_contact" method="post" enctype="multipart/form-data">
                        <div class="row">
                            <div class="input-field col s12">
                                <i class="material-icons prefix">account_circle</i>
                                <input id="icon_prefix" type="text" name="name" class="validate">
                                <label for="icon_prefix">Dein Name</label>
                            </div>
                        </div>

                        <div class="row">
                            <div class="input-field col s12">
                            <i class="material-icons prefix">email</i>
                              <input id="email" name="email" type="email" class="validate">
                              <label for="email">Deine E-Mail Adresse</label>
                              <span class="helper-text" data-error="Wir brauchen deine gültige E-Mail Adresse, um dir antworten zu können." data-success="Okay!"></span>
                            </div>
                        </div>

                        <div class="row">
                            <div class="input-field col s12">
                                <i class="material-icons prefix">mode_edit</i>
                                <textarea id="icon_prefix3" name="message" class="materialize-textarea"></textarea>
                                <label for="icon_prefix3">Deine Nachricht</label>
                            </div>
                        </div>

                        <p>Du kannst auch eine Datei (wie einen Screenshot oder Ähnliches) anhängen [optional]:</p>
                        <div class="container center" style="width: 50%; margin-bottom: 40px;">
                            <div class="file-field input-field">
                                <div class="btn">
                                <span>Datei anhängen</span>
                                <input type="file" name="file">
                                </div>
                                <div class="file-path-wrapper">
                                <input class="file-path validate" type="text">
                                </div>
                            </div>
                        </div>

                        <input type="submit" value="Absenden" class="waves-effect waves-light btn">
                    </form>
                    
                    <div class="modal-footer">
                        <a href="#!" class="modal-close waves-effect waves-green btn-flat">Schließen</a>
                    </div>
                </div>

            </div>
        </div>
    </main>
</body>

</html>